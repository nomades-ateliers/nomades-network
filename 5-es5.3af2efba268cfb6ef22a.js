var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return u},__spread=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t},__values=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{boDV:function(t,e,n){"use strict";n.r(e);var o=n("kZht"),r=function(){},i=n("C9Ky"),u=n("YtkY"),a=n("ETkI"),s=n("ofez"),l=function(t){function e(e){var n=this;return(n=t.call(this)||this).store=e,n.STATE="authCheck",n}return __extends(e,t),e.prototype.dispatchCheckAuthAction=function(){this.dispatchAction(new a.b)},e.prototype.dispatchLoginAction=function(t){this.dispatchAction(new a.h(t))},e.prototype.dispatchLogoutAction=function(){this.dispatchAction(new a.j)},e.prototype.dispatchCreateAction=function(t){this.dispatchAction(new a.e(t))},e.prototype.dispatchTokenSaveAction=function(){this.dispatchAction(new a.m)},e.prototype.dispatchTokenDeleteAction=function(){this.dispatchAction(new a.l)},e.prototype.dispatchLoadAction=function(t){},e.prototype.dispatchUpdateAction=function(t){},e.prototype.dispatchRemoveAction=function(t){},e.prototype.getAuthCheck=function(){return this.storeSelectFeatureState().pipe(Object(u.a)((function(t){return t})))},e.prototype.isAuthenticated=function(){var t=!1;return this.getAuthCheck().subscribe((function(e){return t=e})),t},e}(function(){function t(){}return t.prototype.storeSelectFeatureState=function(){return this.store.pipe(Object(s.z)(this.STATE))},t.prototype.dispatchAction=function(t){this.store.dispatch(t)},t}());n("ENSU");var c=n("IdLP"),h=n("FU6l"),p=n("6Oco"),d=n("mW0F"),f=function(t){function e(e,n){var o=this;(o=t.call(this,e)||this).sources=n,o.completed=0,o.haveValues=0;var r=n.length;o.values=new Array(r);for(var i=0;i<r;i++){var u=n[i],a=Object(d.a)(o,u,null,i);a&&o.add(a)}return o}return __extends(e,t),e.prototype.notifyNext=function(t,e,n,o,r){this.values[n]=e,r._hasValue||(r._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,o=this.values,r=o.length;t._hasValue?(this.completed++,this.completed===r&&(n===r&&e.next(o),e.complete())):e.complete()},e}(n("pBDD").a),y=n("GoAz");function _(t){return null==t||0===t.length}var b=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,g=function(){function t(){}return t.min=function(t){return function(e){if(_(e.value)||_(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(_(e.value)||_(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return _(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return _(t.value)?null:b.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(_(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(o="","^"!==e.charAt(0)&&(o+="^"),o+=e,"$"!==e.charAt(e.length-1)&&(o+="$"),n=new RegExp(o)):(o=e.toString(),n=e),function(t){if(_(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:o,actualValue:e}}}):t.nullValidator;var n,o},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(v);return 0==e.length?null:function(t){return m(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(v);return 0==e.length?null:function(t){return function t(){for(var e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&Object(h.a)(n[0])&&(n=n[0]),0===n.length?p.a:e?t(n).pipe(Object(u.a)((function(t){return e.apply(void 0,__spread(t))}))):new c.a((function(t){return new f(t,n)}))}(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(C)).pipe(Object(u.a)(m))}},t}();function v(t){return null!=t}function C(t){var e=Object(o.rb)(t)?Object(y.a)(t):t;if(!Object(o.qb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function m(t){var e=t.reduce((function(t,e){return null!=e?Object.assign({},t,e):t}),{});return 0===Object.keys(e).length?null:e}function A(t){return t.validate?function(e){return t.validate(e)}:t}function O(t){return t.validate?function(e){return t.validate(e)}:t}function E(t){var e,n=S(t)?t.validators:t;return Array.isArray(n)?null!=(e=n)?g.compose(e.map(A)):null:n||null}function V(t,e){var n,o=S(e)?e.asyncValidators:t;return Array.isArray(o)?null!=(n=o)?g.composeAsync(n.map(O)):null:o||null}function S(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var j=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=E(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=V(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAllAsTouched=function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={});var e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign({},t,{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))},t.prototype.enable=function(t){void 0===t&&(t={});var e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign({},t,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=C(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((function(t,e){return t instanceof k?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof D&&t.at(e)||null}),t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new o.l,this.statusChanges=new o.l},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls((function(e){return e.status===t}))},t.prototype._anyControlsDirty=function(){return this._anyControls((function(t){return t.dirty}))},t.prototype._anyControlsTouched=function(){return this._anyControls((function(t){return t.touched}))},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){S(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t.prototype._parentMarkedDirty=function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()},t}(),w=function(t){function e(e,n,o){void 0===e&&(e=null);var r=this;return(r=t.call(this,E(n),V(o,n))||this)._onChange=[],r._applyFormState(e),r._setUpdateStrategy(n),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r._initObservables(),r}return __extends(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach((function(t){return t(n.value,!1!==e.emitViewToModelChange)})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(j),k=function(t){function e(e,n,o){var r=this;return(r=t.call(this,E(n),V(o,n))||this).controls=e,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return __extends(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach((function(o){n._throwIfControlMissing(o),n.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach((function(o){n.controls[o]&&n.controls[o].patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild((function(n,o){n.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof w?e.value:e.getRawValue(),t}))},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))},e.prototype._setUpControls=function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild((function(o,r){n=n||e.contains(r)&&t(o)})),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},(function(e,n,o){return(n.enabled||t.disabled)&&(e[o]=n.value),e}))},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild((function(t,o){n=e(n,t,o)})),n},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=__values(Object.keys(this.controls)),o=n.next();!o.done;o=n.next()){var r=o.value;if(this.controls[r].enabled)return!1}}catch(i){t={error:i}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")}))},e}(j),D=function(t){function e(e,n,o){var r=this;return(r=t.call(this,E(n),V(o,n))||this).controls=e,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return __extends(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach((function(t,o){n._throwIfControlMissing(o),n.at(o).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach((function(t,o){n.at(o)&&n.at(o).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild((function(n,o){n.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)},e.prototype.getRawValue=function(){return this.controls.map((function(t){return t instanceof w?t.value:t.getRawValue()}))},e.prototype.clear=function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())},e.prototype._syncPendingControls=function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach((function(e,n){t(e,n)}))},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))},e.prototype._anyControls=function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))},e.prototype._setUpControls=function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))},e.prototype._checkAllValuesPresent=function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")}))},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=__values(this.controls),o=n.next();!o.done;o=n.next()){if(o.value.enabled)return!1}}catch(r){t={error:r}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(j),P=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.prototype.test=function(){console.log("send action"),this._store.dispatchLoginAction({email:"test@test.ch"})},e}(function(){function t(t){this._store=t,this.loginBtn=!0}return t.prototype.ngOnInit=function(){this.userForm=new k({email:new w("demo@demo.ch",g.compose([g.required,g.email])),password:new w("A123456",g.compose([g.required,g.minLength(6)]))})},t.prototype.send=function(){if(this.userForm.valid)switch(this.loginBtn){case!0:this._store.dispatchLoginAction(this.userForm.value);break;case!1:this._store.dispatchCreateAction(this.userForm.value)}else console.log("form not valid",this.userForm.valid)},t}()),U=o.jb({encapsulation:2,styles:[],data:{}});function T(t){return o.xb(0,[(t()(),o.lb(0,0,null,null,5,"div",[["style","text-align:center"]],null,null,null,null,null)),(t()(),o.lb(1,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),o.wb(-1,null,["Welcome to nomades-pwa!"])),(t()(),o.lb(3,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),o.wb(-1,null,["hello auth page"])),(t()(),o.lb(5,0,null,null,0,"img",[["src","https://raw.githubusercontent.com/nrwl/nx/master/nx-logo.png"],["width","450"]],null,null,null,null,null)),(t()(),o.lb(6,0,null,null,1,"button",[],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.test()&&o),o}),null,null)),(t()(),o.wb(-1,null,["log"]))],null,null)}var I=o.hb("nomades-network-auth-page",P,(function(t){return o.xb(0,[(t()(),o.lb(0,0,null,null,1,"nomades-network-auth-page",[],null,null,null,T,U)),o.kb(1,114688,null,0,P,[l],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),L=n("An66"),x=n("6uGs"),R=function(){},N=function(t){Object.assign(this,t)},$=n("2fQ9"),F={LOAD_SUCCESS:"[CurrentUser] load user Success",UPDATE:"[CurrentUser] update user Requested",UPDATE_SUCCESS:"[CurrentUser] update user Success",ERROR:"[CurrentUser] Error"},M=function(t){function e(){var e=this;return(e=t.apply(this,__spread(arguments))||this).type=F.LOAD_SUCCESS,e}return __extends(e,t),e}($.a),q=null;function G(t,e){switch(void 0===t&&(t=q),e.type){case F.LOAD_SUCCESS:case F.UPDATE_SUCCESS:return e.payload.user?new N(Object.assign({},e.payload.currentUser)):t;case F.ERROR:return q;default:return t}}var z=!1;function B(t,e){switch(void 0===t&&(t=z),e.type){case a.a.LOGIN_SUCCESS:case a.a.CHECK_AUTH_SUCCESS:return!0;case a.a.ERROR:case a.a.CHECK_AUTH_NO_USER:case a.a.TOKEN_DELETE:return!1;case a.a.LOGOUT_SUCCESS:return z;default:return t}}var K=n("SKbq"),Z=function(t){Object(K.a)(t,"CurrentUserStoreModule")},H=n("ROBh"),J=n("4e/d"),Y=function(){function t(t){this._http=t,this._authUrl="/auth",this._isAuthUrl="/auth/isauth",this._signUpUrl="/auth/signin"}return t.prototype.doLogout=function(){return this.dellToken()},t.prototype.isAuth=function(t){return void 0===t&&(t=!1),this._http.get(this._isAuthUrl+(t?"?loadUserData=true":"")).pipe(Object(u.a)((function(t){return t||{}})),Object(J.a)((function(t){return Object(H.a)({error:t,message:(t.error||{}).message||t.message||"Authentication failed!"})})))},t.prototype.doAuth=function(t){return void 0===t&&(t={email:null,password:null}),this._http.post(this._authUrl,{email:t.email,password:t.password}).pipe(Object(J.a)((function(t){return Object(H.a)({error:t,message:(t.error||{}).message||t.message||"Login authentication failed!"})})))},t.prototype.doCreateUser=function(t){return console.log("_payload",t),this._http.post(this._signUpUrl,t).pipe(Object(J.a)((function(t){return Object(H.a)({error:t,message:(t.error||{}).message||t.message||"Signup failed!"})})))},t.prototype.dellToken=function(){return Object(y.a)(Promise.resolve(localStorage.removeItem("environment.authToken")))},t}();function W(t,e,n,o){var r,i=arguments.length,u=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(u=(i<3?r(u):i>3?r(e,n,u):r(e,n))||u);return i>3&&u&&Object.defineProperty(e,n,u),u}function X(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}var Q,tt=n("DyCy"),et=n("TLy2"),nt=n("8j5Y"),ot=n("qZtG"),rt=(Q=function(){function t(t,e,n,o,r){var i=this;this._action$=t,this._auth=e,this._router=n,this._route=o,this._store=r,this.loginAction$=this._action$.pipe(Object(tt.f)(a.a.LOGIN),Object(et.a)((function(t){return i._auth.doAuth(t.payload)})),Object(et.a)((function(t){return t.user?Object(H.a)(new a.i(t)):i._handleErrors(t)})),Object(J.a)((function(t){return Object(H.a)(new a.g(t))}))),this.checkMainAction$=this._action$.pipe(Object(tt.f)(a.a.CHECK_AUTH),Object(et.a)((function(t){return i._auth.isAuth(t.payload)})),Object(et.a)((function(t){return t.token?Object(ot.a)(Object(H.a)(new a.d(t),new M(t))):Object(ot.a)(Object(H.a)(new a.c(t)))})),Object(J.a)((function(t){return i._handleErrors(t)}))),this.logoutAction$=this._action$.pipe(Object(tt.f)(a.a.LOGOUT),Object(et.a)((function(){return i._auth.doLogout()})),Object(et.a)((function(t){return Object(ot.a)(Object(H.a)(new a.l,new a.k))})),Object(et.a)((function(t){return i._router.navigate(["/auth"]),Object(H.a)(t)})),Object(J.a)((function(t){return i._handleErrors(t)}))),this.createUserAction$=this._action$.pipe(Object(tt.f)(a.a.CREATE),Object(et.a)((function(t){return i._auth.doCreateUser(t.payload)})),Object(et.a)((function(t){return t.currentUser?Object(H.a)(new a.f(t)):i._handleErrors(t)})),Object(J.a)((function(t){return i._handleErrors(t)}))),this.userSuccessAction$=this._action$.pipe(Object(tt.f)(a.a.CREATE_SUCCESS,a.a.LOGIN_SUCCESS),Object(et.a)((function(t){var e=t.payload,n=void 0===e?null:e;return n?Object(ot.a)(Object(H.a)(new a.n(n)),Object(H.a)(new a.b)):i._handleErrors()})),Object(J.a)((function(t){return i._handleErrors(t)})),Object(nt.a)((function(t){i._router.navigate(["/"+(i._route.snapshot.queryParams.returnUrl||"index")])})))}return t.prototype._handleErrors=function(t){return void 0===t&&(t={message:null}),Object(ot.a)(Object(H.a)(new a.g(t)))},t}(),W([Object(tt.b)(),X("design:type",Object)],Q.prototype,"loginAction$",void 0),W([Object(tt.b)(),X("design:type",Object)],Q.prototype,"checkMainAction$",void 0),W([Object(tt.b)(),X("design:type",Object)],Q.prototype,"logoutAction$",void 0),W([Object(tt.b)(),X("design:type",Object)],Q.prototype,"createUserAction$",void 0),W([Object(tt.b)(),X("design:type",Object)],Q.prototype,"userSuccessAction$",void 0),Q),it=n("1VvW"),ut=function(t){Object(K.a)(t,"AuthStoreModule")},at=n("SYbc"),st=function(){};n.d(e,"AuthModuleNgFactory",(function(){return lt}));var lt=o.ib(r,[],(function(t){return o.tb([o.ub(512,o.j,o.U,[[8,[i.a,I]],[3,o.j],o.u]),o.ub(4608,L.i,L.h,[o.r,[2,L.o]]),o.ub(4608,x.h,x.n,[L.c,o.y,x.l]),o.ub(4608,x.o,x.o,[x.h,x.m]),o.ub(5120,x.a,(function(t){return[t]}),[x.o]),o.ub(4608,l,l,[s.o]),o.ub(1073742336,L.b,L.b,[]),o.ub(1073742336,x.e,x.e,[]),o.ub(1073742336,x.d,x.d,[]),o.ub(1073742336,R,R,[]),o.ub(1024,s.J,(function(){return[{},{}]}),[]),o.ub(1024,s.k,(function(){return[{key:"currentUser",reducerFactory:s.v,metaReducers:[],initialState:void 0},{key:"auth",reducerFactory:s.v,metaReducers:[],initialState:void 0}]}),[]),o.ub(1024,s.K,s.Q,[o.o,s.J,s.k]),o.ub(1024,s.I,(function(){return[G,B]}),[]),o.ub(1024,s.L,(function(t,e){return[t,e]}),[s.I,s.I]),o.ub(1024,s.b,(function(t,e,n,o,r,i){return[s.R(t,e,n),s.R(o,r,i)]}),[o.o,s.I,s.L,o.o,s.I,s.L]),o.ub(1073873408,s.p,s.p,[s.K,s.b,s.h,s.r]),o.ub(1073742336,s.q,s.q,[]),o.ub(1073742336,Z,Z,[[3,Z]]),o.ub(512,x.k,x.k,[]),o.ub(2048,x.i,null,[x.k]),o.ub(512,x.g,x.g,[x.i]),o.ub(2048,x.b,null,[x.g]),o.ub(512,x.f,x.j,[x.b,o.o]),o.ub(512,x.c,x.c,[x.f]),o.ub(512,Y,Y,[x.c]),o.ub(512,rt,rt,[tt.a,Y,it.k,it.a,s.o]),o.ub(1024,tt.k,(function(t){return[tt.g(t)]}),[rt]),o.ub(1073742336,tt.d,tt.d,[tt.e,tt.k,[2,s.r],[2,s.p]]),o.ub(1073742336,ut,ut,[[3,ut]]),o.ub(1073742336,it.l,it.l,[[2,it.q],[2,it.k]]),o.ub(1073742336,st,st,[]),o.ub(1073742336,r,r,[]),o.ub(256,x.l,"XSRF-TOKEN",[]),o.ub(256,x.m,"X-XSRF-TOKEN",[]),o.ub(1024,it.i,(function(){return[[{path:"",component:P,canActivate:[at.a]}]]}),[])])}))}}]);